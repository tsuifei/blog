<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-144046503-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>Cré-Coder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Un blog pour partager, expérimenter et s&apos;améliorer en programmation.">
<meta name="keywords" content="tsuifei, Pommier, JavaScript, HTML, CSS, linux, sass, coding">
<meta property="og:type" content="website">
<meta property="og:title" content="Cré-Coder">
<meta property="og:url" content="tsuifei.github.io/index.html">
<meta property="og:site_name" content="Cré-Coder">
<meta property="og:description" content="Un blog pour partager, expérimenter et s&apos;améliorer en programmation.">
<meta property="og:locale" content="zh-tw">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cré-Coder">
<meta name="twitter:description" content="Un blog pour partager, expérimenter et s&apos;améliorer en programmation.">
  
  <link rel="alternate" href="/atom.xml" title="Cré-Coder" type="application/atom+xml">
  
  
  <link rel="icon" href="/tsuifei.github.io//favicon.png">
  
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="css/style.css">
</head></html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="index.html" id="logo">Cré-Coder</a>
      </h1>
      
      <h2 id="subtitle-wrap">
        <a href="index.html" id="subtitle">Je code donc je suis là.</a>
      </h2>
      
    </div>

    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
        <a class="main-nav-link" href="index.html">Home</a>
        
        <a class="main-nav-link" href="/tsuifei/">About Tsuifei</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <!-- 搜索框就加上 class="st-default-search-input" -->
        
        <input type="text" class="st-default-search-input" placeholder="Search....">
        
        <!-- 搜索按钮就加上 class="st-search-show-outputs" -->
        <!-- 
        <a href="#" title="Search" class="st-search-show-outputs">Search</a>
         -->
        <!-- <a id="nav-search-btn" class="nav-icon" title="Search"></a> -->
      </nav>
      <!-- <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="tsuifei.github.io"></form>
      </div> -->

    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Vue_Custom_Directives" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Custom_Directives/" class="article-date">
  <time datetime="2020-02-24T16:42:24.000Z" itemprop="datePublished">2020-02-25</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Custom_Directives/">Vue.js Custom Directives 自定義指令</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>什麼時候會用到自定義指令？在 Vue 內建的指令無法滿足需求或需要一個特別的功能時，就可以自己攥寫自定義指令，好處是可以重複使用。</p>
<p>自定義指定有兩種：全域自定義指令與局部的自定義指令。有時候我們在一個頁面裡可能會引入或增加好幾個 Vue 的實例，如果是全域的自定義指令，表示所有的 Vue 實例都可使用這個指令，但如果是局部自定義指令，需要指定能使用這組指令的 Vue 實例。</p>
<p>先來看 codepen :<br><a href="https://codepen.io/tsuifei/pen/eYNgWzg" target="_blank" rel="noopener">Vue.Js Custom Directives 自定義指令</a></p>
<h3 id="全域的寫法"><a href="#全域的寫法" class="headerlink" title="全域的寫法"></a>全域的寫法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Global 全域自定義指令 ps. directive 沒有 s</span></span><br><span class="line">Vue.directive(<span class="string">'my-directive'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">el, binding</span>) </span>&#123;</span><br><span class="line">  el.innerHTML = binding.value.toupperCase();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="局部的寫法"><a href="#局部的寫法" class="headerlink" title="局部的寫法"></a>局部的寫法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 局部的自定義指令 ps. directives 有 s</span></span><br><span class="line">directives : &#123;</span><br><span class="line">    <span class="string">'my-directive'</span> : &#123;</span><br><span class="line">        bind (el, binding) &#123;</span><br><span class="line">          el.innerHTML = binding.value.toUpperCase()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 也可以寫成</span></span><br><span class="line">    <span class="string">'my-directive'</span>(el, binding) &#123;</span><br><span class="line">      el.innerHTML = binding.value.toUpperCase()</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-my-directive = 'xxx';</span><br></pre></td></tr></table></figure>

<h2 id="實作兩個自定義指令"><a href="#實作兩個自定義指令" class="headerlink" title="實作兩個自定義指令"></a>實作兩個自定義指令</h2><ol>
<li>功能的類型為<code>v-text</code>，功能是可將字串轉換成大寫，取名為<code>v-upper-text</code></li>
<li>功能的類型為<code>v-text</code>，功能是可將字串轉換成小寫，取名為<code>v-lower-text</code></li>
</ol>
<p>需要注意的是，我們自訂的指令名，並不包含<code>v-</code>例如上述要實作的<code>v-upper-text</code>，指令名為<code>upper-text</code>，<code>v-</code>一但定義了這些自定義的指令，在使用時就需要加上<code>v-</code>。而只最終會被寫在 HTML 的元素標籤裡。</p>
<p>這個指令名會對應到一個「處理函式」，如以下範例的<code>Vue.directive()</code>的第二參數<br>以下面的範例的 callback 函式來看，有兩個參數，第一個為<code>el</code>表示使用這個指令的標籤，第二個參數<code>binding</code>我們可以試著<code>console.log()</code>出來觀察。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-upper-text</span>=<span class="string">"msg1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-lower-text</span>=<span class="string">"msg1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-upper-text</span>=<span class="string">"msg2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-lower-text</span>=<span class="string">"msg2"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 註冊定義全局指令</span></span><br><span class="line"><span class="comment">// el : 指令屬性的所在標籤物件</span></span><br><span class="line"><span class="comment">// binding : 包含指令相關訊息的資料物件</span></span><br><span class="line">Vue.directive(<span class="string">'upper-text'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">el, binding</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(el, binding);</span><br><span class="line">  <span class="comment">// 把改變好的內容在指定回去</span></span><br><span class="line">  el.innerHTML = binding.value.toUpperCase();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app1'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    msg1: <span class="string">'Hello Paris'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 註冊局部定義指令，只會對 #app1 這個實例有效</span></span><br><span class="line">  directives: &#123;</span><br><span class="line">    <span class="string">'lower-text'</span>(el, binding) &#123;</span><br><span class="line">      el.innerHTML = binding.value.toLowerCase();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app2'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    msg2: <span class="string">'Hello Taipei'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>什麼時候會用到自定義指令？在 Vue 內建的指令無法滿足需求或需要一個特別的功能時，就可以自己攥寫自定義指令，好處是可以重複使用。</p>
<p>自定義指定有兩種：全域自定義指令與局部的自定義指令。有時候我們在一個頁面裡可能會引入或增加好幾個 Vue 的實例，如果是全域的自定義指令，表示所有的 Vue 實例都可使用這個指令，但如果是局部自定義指令，需要指定能使用這組指令的 Vue 實例。</p>
<p>先來看 codepen :<br><a href="https://codepen.io/tsuifei/pen/eYNgWzg" target="_blank" rel="noopener">Vue.Js Custom Directives 自定義指令</a></p>
<h3 id="全域的寫法"><a href="#全域的寫法" class="headerlink" title="全域的寫法"></a>全域的寫法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Global 全域自定義指令 ps. directive 沒有 s</span></span><br><span class="line">Vue.directive(<span class="string">'my-directive'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">el, binding</span>) </span>&#123;</span><br><span class="line">  el.innerHTML = binding.value.toupperCase();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Custom_Directives/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Custom_Directives/" data-id="ck72decwp005hl7uw3z1y077n" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Directives" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Directives/" class="article-date">
  <time datetime="2020-02-23T16:42:24.000Z" itemprop="datePublished">2020-02-24</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Directives/">Vue.js Directives Vue 常用的內建指令</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>之前的幾篇都有介紹此表前半段的 Vue 內建指令用法，這裡要介紹最後面的兩個內建指令<code>ref</code>和<code>v-cloak</code><br>先來 codepen 看看：<a href="https://codepen.io/tsuifei/pen/NWqddBX" target="_blank" rel="noopener">Vue.Js ref 唯一識別 與 v-cloak 隱藏表達式</a></p>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
<th>Vue</th>
</tr>
</thead>
<tbody><tr>
<td>v-if</td>
<td>如果為 true, 當前標籤才會輸出到頁面</td>
<td></td>
</tr>
<tr>
<td>v-html</td>
<td>更新元素的 innerHTML</td>
<td></td>
</tr>
<tr>
<td>v-else</td>
<td>如果為 false, 當前標籤才會輸出到頁面</td>
<td></td>
</tr>
<tr>
<td>v-show</td>
<td>通過控制 display 樣式來控制顯示/隱藏</td>
<td></td>
</tr>
<tr>
<td>v-for</td>
<td>遍歷陣列/物件</td>
<td></td>
</tr>
<tr>
<td>v:text</td>
<td>更新元素的 textContent</td>
<td></td>
</tr>
<tr>
<td>v-on</td>
<td>綁定事件監聽, 一般簡寫為@</td>
<td></td>
</tr>
<tr>
<td>v-bind</td>
<td>強制綁定解析表達式, 可以省略 v-bind</td>
<td></td>
</tr>
<tr>
<td>v-model</td>
<td>雙向資料綁定</td>
<td></td>
</tr>
<tr>
<td>ref</td>
<td>為某個元素註冊一個唯一標識, vue 物件通過 $refs 屬性訪問這個元素物件</td>
<td></td>
</tr>
<tr>
<td>v-cloak</td>
<td>使用它防止閃現表達式, 與 css 配合: [v-cloak] { display: none }</td>
<td></td>
</tr>
</tbody></table>
<h2 id="ref-元素的唯一識別"><a href="#ref-元素的唯一識別" class="headerlink" title="ref 元素的唯一識別"></a>ref 元素的唯一識別</h2><p>給需要一個標籤一個唯一識別，可用<code>ref</code>，但如何透過我們給標籤的<code>ref</code>取得標籤的內容，在實例的方法裡，可以使用<code>$refs</code>這個方法取得：<code>this.$refs.content.textContent</code>，可選用<code>innerHTMl</code>或者是<code>textContent</code>效果是一樣的。</p>
<p><code>ref</code>的作用是為某個元素註冊一個唯一標識, vue 物件會透過 $refs 屬性來訪問這個元素物件或其內容。</p>
<h2 id="v-cloak-防止在頁面出現-Vue-的表達式"><a href="#v-cloak-防止在頁面出現-Vue-的表達式" class="headerlink" title="v-cloak 防止在頁面出現 Vue 的表達式"></a>v-cloak 防止在頁面出現 Vue 的表達式</h2><p>因為程式是一行行執行的，有時因為頁面跳轉的關係，程式還沒讀取完即出現在頁面上，這時 Vue 的表達式像是<code></code>就會被看見，為了避免這樣的狀況產生，可以使用在標籤上使用<code>v-cloak</code>，並在 Style 以屬性選擇器<code>[v-cloak]</code>選取，並給予<code>display:none</code>先隱藏它，直到程式讀取到資料後，這個屬性會自動地被拿掉，就可預防出現 Vue 的表達式。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">ref</span>=<span class="string">"content"</span>&gt;</span>Hello Paris<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"hint"</span>&gt;</span>Hint<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- v-cloak --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-cloak</span>&gt;</span>Hello Taipei<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    msg: <span class="string">'Hello Taipei'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    hint() &#123;</span><br><span class="line">      alert(<span class="keyword">this</span>.$refs.content.textContent);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>有了自定義的指令功能，相信會讓重複性的功能，使用起來更方便。</p>
 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>之前的幾篇都有介紹此表前半段的 Vue 內建指令用法，這裡要介紹最後面的兩個內建指令<code>ref</code>和<code>v-cloak</code><br>先來 codepen 看看：<a href="https://codepen.io/tsuifei/pen/NWqddBX" target="_blank" rel="noopener">Vue.Js ref 唯一識別 與 v-cloak 隱藏表達式</a></p>
<table>
<thead>
<tr>
<th>指令</th>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Directives/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Directives/" data-id="ck72decws005ol7uw2use21d7" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Filters" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Filters/" class="article-date">
  <time datetime="2020-02-22T16:42:24.000Z" itemprop="datePublished">2020-02-23</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Filters/">Vue.js Filters 過濾器</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>有時我們拿到一包資料，需要透過過濾器來拿到我們想要的資料格式。例如我們可以透過一些外來的函式庫，拿到一些資料，但如果想依照我們想要的格式顯示，就必須過濾我們要的資訊，再依我們用的函式庫規則，寫成想要顯示的格式。</p>
<p>先來 Codepen 看一下效果 <a href="https://codepen.io/tsuifei/pen/eYNBoLZ" target="_blank" rel="noopener">Vue.Js Filters 過濾器</a></p>
<h3 id="什麼是過濾器"><a href="#什麼是過濾器" class="headerlink" title="什麼是過濾器"></a>什麼是過濾器</h3><p>過濾器的功能是要對顯示的資料進行特定的格式化後再顯示，且過濾器並不會去改變原本的資料，而是產生一個新的對應的資料格式。</p>
<p>白話一點就是「過濾器」主要的功能是將我們想要的資料，進行格式化。例如我們想要依照我們想要的格式來顯示日期。在程式裡取得的時間是透過從 1970 年 1 月 1 日所開始計算的時間差而來，透過程式拿到的現在時間必須經過一些步驟的運算，才能得到當下點的時間。</p>
<p>因為有時差、時區與冬夏令時間的問題，所以要得到我們想要的時間點變得有些複雜，也因此在處裡時間時，會偏向引入已經把繁複計算包成函式庫的方式來操控時間與日期的部分。</p>
<p>在這裡我們以<code>moments.js</code>為例，這支函式庫在處理時間的顯示上非常方便，所以許多人引入它來直接使用。</p>
<p>使用外來的函式庫，可以使用 CDN 的方式，或者透過<code>npm</code>安裝到我們的專案裡，記得如果我們的 Vue 也是以 CDN 的方式引入，要將外來的 CDN 排在 Vue 之後。</p>
<p>我們可以先創建一個由建構是得來的<code>new Data()</code>，將其存在<code>time</code>裡，試著在頁面上顯示它，會得到「Sun Feb 23 2020 11:26:19 GMT+0100 (中歐標準時間)」，但這並不是我們想顯示的時間格式，我們想顯示的是像「2020-02-23, 13:10:20」的格式。</p>
<p>可先去 <a href="https://momentjs.com/" target="_blank" rel="noopener">Moment.js</a>的官網查找使用規則。</p>
<h2 id="如何自定義與使用過濾器"><a href="#如何自定義與使用過濾器" class="headerlink" title="如何自定義與使用過濾器"></a>如何自定義與使用過濾器</h2><p>我們先來看一下定義與使用過濾器的公式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用過濾器</span></span><br><span class="line">&lt;div&gt;&#123;&#123; myData | filterName &#125;&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;&#123;&#123; myData | filterName(arg) &#125;&#125;&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure>

<p>使用過濾器的方式是，假設我們已經有個日期<code>myData</code>，後面需指定一個過濾函式<code>filterName</code>，這個函式會接受表達式<code>myData</code>的值，再回傳一個新的值。 新的值則是我們想要的資料格式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定義過濾器（在vue 實例外定義）</span></span><br><span class="line"> Vue.filter(filterName, <span class="function"><span class="keyword">function</span>(<span class="params">value[,arg1,arg2,...]</span>)</span>&#123;</span><br><span class="line">   <span class="comment">// 进行一定的資料處理</span></span><br><span class="line">   <span class="keyword">return</span> newValue</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>

<p>引入之後要先做定義過濾器的動作，透過<code>Vue.filter()</code>的函式物件<code>filter(&#39;自定義過濾器名稱&#39;, callback回調函式)</code>指定。回調函式裡的<code>value</code>指的是將要被格式化的值，也就是範例裡到<code>time</code>的值，最後過濾器會回傳一個新的值。這個值就是我們希望的格式。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>HTML 部分</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>顯示格式化的日期和時間<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; time &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>完整格式：&#123;&#123; time | timeString &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>年月日：&#123;&#123; time | timeString('YYYY-MM-DD') &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>時分秒：&#123;&#123; time | timeString('HH:mm:ss') &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>沒有指定：&#123;&#123; time | timeString() &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JavaScript 與 Vue 實例部分</p>
<p>callback 回調函式的參數：參數 1=原本的格式 2= 希望的格式，如果沒給第二個參數就會使用原本的。</p>
<p>回傳的<code>format</code>:
format(ˋ 如果有給值就用 myFormat || 不然就用我們設定的’YYYY-MM-DD, HH:mm:ss’)。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定義過濾器</span></span><br><span class="line">Vue.filter(<span class="string">'timeString'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">value, myFormat</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> moment(value).format(myFormat || <span class="string">'YYYY-MM-DD, HH:mm:ss'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    <span class="comment">// 建構式取得現在時間</span></span><br><span class="line">    time: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>有時我們拿到一包資料，需要透過過濾器來拿到我們想要的資料格式。例如我們可以透過一些外來的函式庫，拿到一些資料，但如果想依照我們想要的格式顯示，就必須過濾我們要的資訊，再依我們用的函式庫規則，寫成想要顯示的格式。</p>
<p>先來 Codepen 看一下效果 <a href="https://codepen.io/tsuifei/pen/eYNBoLZ" target="_blank" rel="noopener">Vue.Js Filters 過濾器</a></p>
<h3 id="什麼是過濾器"><a href="#什麼是過濾器" class="headerlink" title="什麼是過濾器"></a>什麼是過濾器</h3><p>過濾器的功能是要對顯示的資料進行特定的格式化後再顯示，且過濾器並不會去改變原本的資料，而是產生一個新的對應的資料格式。</p>
<p>白話一點就是「過濾器」主要的功能是將我們想要的資料，進行格式化。例如我們想要依照我們想要的格式來顯示日期。在程式裡取得的時間是透過從 1970 年 1 月 1 日所開始計算的時間差而來，透過程式拿到的現在時間必須經過一些步驟的運算，才能得到當下點的時間。</p>
<p>因為有時差、時區與冬夏令時間的問題，所以要得到我們想要的時間點變得有些複雜，也因此在處裡時間時，會偏向引入已經把繁複計算包成函式庫的方式來操控時間與日期的部分。</p>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Filters/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Filters/" data-id="ck72decwu005vl7uwxkfpnp9z" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Transitioning_Elements_Components" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Transitioning_Elements_Components/" class="article-date">
  <time datetime="2020-02-20T16:42:24.000Z" itemprop="datePublished">2020-02-21</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Transitioning_Elements_Components/">Vue.Js Transitioning Single Elements/Component 過渡與動畫效果</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>原本在一般頁面要製造一些簡單的動畫效果，只要掌控 class 和 Css 就好了，但是如果要在框架內做這些動態效果，如何做？</p>
<p>在 Vue 裡有它的特殊做法，必須把享有動態效果的元素，以<code>&lt;transition&gt;</code>的標籤包起來，並給予一個<code>name</code>的屬性，然後在 CSS 裡，以這個<code>name</code>來作為 class 的名稱，並加上動畫不同時期的後綴，來達到動態效果。</p>
<p>先來看一下 Codepen <a href="https://codepen.io/tsuifei/pen/vYOyGeq" target="_blank" rel="noopener">VueJs Transitioning Single Elements/Component 過渡與動畫效果</a></p>
<p>我們先來看一張官方上的示意圖：<br><img src="https://cn.vuejs.org/images/transition.png" alt></p>
<p>要指定進出場的樣式需要搭配 Vue 指定的後綴詞，進、出場個分三個階段<br>進場：</p>
<table>
<thead>
<tr>
<th>階段</th>
<th>進場 Enter</th>
<th>出場 Leave</th>
</tr>
</thead>
<tbody><tr>
<td>開始</td>
<td>v-enter</td>
<td>v-leave</td>
</tr>
<tr>
<td>結束</td>
<td>v-enter-to</td>
<td>v-leave-to</td>
</tr>
<tr>
<td>整個過程</td>
<td>v-enter-active</td>
<td>v-leave-active</td>
</tr>
</tbody></table>
<p>再依照每個過程，指定不同的效果。而表中的<code>v</code>是在沒有給<code>&lt;transition&gt;</code>名字的時候，如果有給<code>name</code>，則把<code>v</code>用我們給的<code>name</code>替換就好了。</p>
<h2 id="淡入淡出的過度效果-Transition"><a href="#淡入淡出的過度效果-Transition" class="headerlink" title="淡入淡出的過度效果 Transition"></a>淡入淡出的過度效果 Transition</h2><p>以淡入淡出的效果來說，在 HTML 需要先將<code>&lt;transition&gt;</code>把我們要做動態效果的元素包住，例如我們希望點一個按鈕，讓文字淡入淡出切換，就可以寫成：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app1"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 將字慢慢消失、透明度0 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"show = !show"</span>&gt;</span>Switch1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">"fade"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;p v-show="show"&gt;Hello Paris&lt;/p&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"show"</span>&gt;</span>Hello Paris<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在文字的<code>&lt;p&gt;</code>標籤內，我們可以給<code>v-if</code>或<code>v-show</code>，這兩個效果是一樣的。</p>
<p>Vue 實例的部分</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm1 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">'#app1'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">          show: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>然後在 CSS 裡依上述規則指定，在進場時透明度為 0 漸變為 100，而出場則反之。而按鈕則控制進出場的切換。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*指定進場*/</span></span><br><span class="line"><span class="selector-class">.fade-enter-active</span>,</span><br><span class="line"><span class="selector-class">.fade-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*指定出場*/</span></span><br><span class="line"><span class="selector-class">.fade-enter</span>,</span><br><span class="line"><span class="selector-class">.fade-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="動畫效果的放大縮小-Animation"><a href="#動畫效果的放大縮小-Animation" class="headerlink" title="動畫效果的放大縮小 Animation"></a>動畫效果的放大縮小 Animation</h2><p>我們也可以以動畫的方式來將組件變大變小與出場，也是一樣使用 Enter 和 Leave 的三個階段，分別設定。<br>CSS 的部分</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 使用Animation 動畫 */</span></span><br><span class="line">      <span class="selector-class">.bounce-enter-active</span> &#123;</span><br><span class="line">        <span class="attribute">animation</span>: bounce-in <span class="number">1s</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.bounce-leave-active</span> &#123;</span><br><span class="line">        <span class="attribute">animation</span>: bounce-in <span class="number">1s</span> reverse;</span><br><span class="line">      &#125;</span><br><span class="line">      @<span class="keyword">keyframes</span> bounce-in &#123;</span><br><span class="line">        0% &#123;</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">scale</span>(0);</span><br><span class="line">        &#125;</span><br><span class="line">        50% &#123;</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">scale</span>(1.5);</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">scale</span>(1);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<p>HTML 部分<br>因為文字段落<code>&lt;p&gt;</code>標簽是行內元素，所以放大縮小會以整行的大小來算，所以會看不出小果，最好將這段該成<code>display: inline-block</code>就可比較清出的看出變化效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Animation 動畫 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app4"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"show = !show"</span>&gt;</span>Toggle show<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">"bounce"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"show"</span> <span class="attr">style</span>=<span class="string">"display: inline-block"</span>&gt;</span></span><br><span class="line">      Hello Tainan</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Vue 實例的部分</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm4 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app4'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    show: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>發現原本可以簡單在 Css 裡做出的的動畫效果，在框架裡做還是有些綁手綁腳，如果讓這些小果更容易操控，得要先了解<br>Vue 是怎麼處理這些效果，在官網的解釋算是蠻清楚的，但幫自己要做一些簡單的圖片入場效果，就開始感到有點綁手綁腳，有點可惜。</p>
<p>如果對此部分有興趣的話，除了可以看看官方解釋，也推薦「Summer。桑莫。夏天」的部落格，只少比較親和。</p>
<p>Transitioning Single Elements/Components<br>官方文件：<a href="https://cn.vuejs.org/v2/guide/transitions.html" target="_blank" rel="noopener">進入/離開 &amp; 列表過渡 — Vue.js</a></p>
<p><a href="https://cythilya.github.io/2017/05/28/vue-transitions/" target="_blank" rel="noopener">Vue.js: 樣式與漸變 Transitions | Summer。桑莫。夏天</a></p>
<p><a href="https://cythilya.github.io/2017/06/09/vue-transition-effects/" target="_blank" rel="noopener">Vue.js: 進階過渡效果 | Summer。桑莫。夏天</a></p>
 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>原本在一般頁面要製造一些簡單的動畫效果，只要掌控 class 和 Css 就好了，但是如果要在框架內做這些動態效果，如何做？</p>
<p>在 Vue 裡有它的特殊做法，必須把享有動態效果的元素，以<code>&lt;transition&gt;</code>的標籤包起來，並給予一個<code>name</code>的屬性，然後在 CSS 裡，以這個<code>name</code>來作為 class 的名稱，並加上動畫不同時期的後綴，來達到動態效果。</p>
<p>先來看一下 Codepen <a href="https://codepen.io/tsuifei/pen/vYOyGeq" target="_blank" rel="noopener">VueJs Transitioning Single Elements/Component 過渡與動畫效果</a></p>
<p>我們先來看一張官方上的示意圖：<br><img src="https://cn.vuejs.org/images/transition.png" alt></p>
<p>要指定進出場的樣式需要搭配 Vue 指定的後綴詞，進、出場個分三個階段<br>進場：</p>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Transitioning_Elements_Components/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Transitioning_Elements_Components/" data-id="ck72decx4006gl7uw8doymda5" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Instance_Lifecycle_Hooks" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Instance_Lifecycle_Hooks/" class="article-date">
  <time datetime="2020-02-19T16:42:24.000Z" itemprop="datePublished">2020-02-20</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Instance_Lifecycle_Hooks/">VueJs Instance Lifecycle Hooks 生命週期鉤子</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>在 Vue 所使用到的整個生命週期方法，可以想像成是一齣戲要上演，哪一個主角需要在哪個時候上場、哪個配角需要在哪個時刻退場，都需要有邏輯才可以讓故事產生連貫性與流暢。</p>
<p>Vue 的生命週期方法雖然共有八個，但並不是每個都需要用到，就像在戲裡，有些橋段不出現、配角不出現也不會影響整齣性的故事性。</p>
<p>把 Vue 的生命週期分為三個大階段會比較容易理解：第一階段的「初始化顯示」、第二階段「更新狀態顯示」、第三階段「死亡、銷毀 Vue 實例」，每個階段都有對應的生命週期 callback 方法，這些生命週期的方法也稱為「生命週期鉤子」掛載在不同時期。 Vue 的生命週期比 React 還要複雜一些。</p>
<p>為了避免 <code>this</code> 的混淆，這些生命週期的方法都是回調方法(callback)，所以最好一律都寫成箭頭函式，讓 <code>this</code> 直接指向父級。</p>
<h2 id="Vue-的生命週期各階段都做了什麼？"><a href="#Vue-的生命週期各階段都做了什麼？" class="headerlink" title="Vue 的生命週期各階段都做了什麼？"></a>Vue 的生命週期各階段都做了什麼？</h2><h3 id="0-創建-Vue-的實例"><a href="#0-創建-Vue-的實例" class="headerlink" title="0. 創建 Vue 的實例"></a>0. 創建 Vue 的實例</h3><p>當我們創建好一個 Vue 的實例，就會馬上進入下一個階段<code>beforeCreate()</code>。</p>
<h3 id="1-初始化顯示階段"><a href="#1-初始化顯示階段" class="headerlink" title="1. 初始化顯示階段"></a>1. 初始化顯示階段</h3><ul>
<li><p><strong>beforeCreate() 實例創建前</strong></p>
<ul>
<li>準備工作：觀察初始化(Observe Data)、初始化事件(Init Events)</li>
<li>這個階段實例的 data、methods 是讀不到的</li>
</ul>
</li>
<li><p><strong>created() 實例創建後</strong></p>
<ul>
<li>這個階段已經完成了資料觀察初始化(data observer)，屬性和方法的運算， watch/event 事件回調。mount 掛載階段還沒開始，$el 屬性目前不可見，資料並沒有在 DOM 元素上進行渲染。</li>
</ul>
</li>
<li><p><strong>beforeMount() 在掛載開始之前被調用</strong></p>
</li>
<li><p>相關的 render 函數首次被調用。</p>
</li>
<li><p><strong>mounted()</strong></p>
</li>
<li><p>初始化顯示之後。立即調用。是最常用的 callback，用來「掛載」到頁面上。</p>
</li>
<li><p><code>el</code>選項的 DOM 節點 被新創建的 <code>vm.$el</code> 替換，並掛載到實例上去之後調用此生命週期方法。此時實例的資料在 DOM 節點上進行渲染。</p>
</li>
</ul>
<h3 id="2-更新狀態顯示階段"><a href="#2-更新狀態顯示階段" class="headerlink" title="2. 更新狀態顯示階段"></a>2. 更新狀態顯示階段</h3><p><code>this.xxx = value</code></p>
<ul>
<li><p><strong>beforeUpdate() 資料更新時調用</strong></p>
<ul>
<li>但不進行 DOM 重新渲染，在資料更新時 DOM 沒渲染前可以在這個生命方法裡進行狀態處理。</li>
</ul>
</li>
<li><p><strong>updated() 資料更新並且 DOM 重新渲染</strong></p>
<ul>
<li>這個狀態下資料更新並且 DOM 重新渲染，當這個生命週期方法被調用時，組件 DOM 已經更新，所以這時可以執行依賴於 DOM 的操作。當實例每次進行資料更新時 updated 都會執行。</li>
</ul>
</li>
</ul>
<p>當我們調用 vm.$destroy()時，就會進入下一個銷毀 Vue 實例的階段</p>
<h3 id="3-死亡、銷毀-Vue-實例階段"><a href="#3-死亡、銷毀-Vue-實例階段" class="headerlink" title="3.死亡、銷毀 Vue 實例階段"></a>3.死亡、銷毀 Vue 實例階段</h3><p>也稱死亡，也就是沒有互動的功能。</p>
<ul>
<li><p><strong>beforeDestory() 實例銷毀之前調用</strong></p>
</li>
<li><p><strong>destoryed() 實例銷毀後調用</strong></p>
<ul>
<li>Vue 實例銷毀後調用。調用後，Vue 實例指示的所有東西都會解綁定，所有的事件監聽器會被移除，所有的子實例也會被銷毀。</li>
</ul>
</li>
</ul>
<h2 id="查看生命週期方法的順序範例"><a href="#查看生命週期方法的順序範例" class="headerlink" title="查看生命週期方法的順序範例"></a>查看生命週期方法的順序範例</h2><p>範例：一行字，每隔一秒會切換成隱藏。</p>
<p>在初始化之後，把初始化的值以<code>v-show</code>的方式讓<code>&lt;p&gt;</code>依定時器的規則顯示。<br>再設定一個按鈕，綁定可以銷毀 vm 的函式，當點擊按鈕時這個 vm 會銷毀而停止顯示或隱藏切換，這個定時器掛載到<code>mounted()</code>之後，點擊按鈕雖然會停止文字顯示的切換，卻不會停止我們在定時器裡放的<code>console.log(&#39;++++++&#39;)</code>，也表示「定時器」並沒有被銷毀。</p>
<p>要把整個定時器銷毀(進入銷毀 Vue 實例)階段，需要在<code>beforeDestroy()</code>這個階段清除定時器，我們可使用<code>clearInterval()</code>來清除定時器，但是如何找到我們要銷毀的定時器？可以在<code>mounted()</code>階段的定時器，指向我們設定的變數<code>this.intervalId = setInterval()</code>來讓清除定時器的函式找到。</p>
<p>在實例裡加入每個時期的生命週期方法，並用<code>console.log</code>印出來，執行一下頁面就可看到其順序。</p>
<h2 id="常用的生命週期方法？"><a href="#常用的生命週期方法？" class="headerlink" title="常用的生命週期方法？"></a>常用的生命週期方法？</h2><ul>
<li><code>mounted()</code>：主要用來發送<code>ajax</code>請求，啟動定時器等非同步的任務。</li>
<li><code>beforeDestory()</code>：做收尾的工作，例如清除定時器，否則定時器會一直執行下去（如範例）</li>
<li><code>created()</code>：進行 ajax 請求異步數據的獲取、初始化數據</li>
<li><code>mounted()</code>：掛載元素內 dom 節點的獲取</li>
<li><code>nextTick()</code>：針對單一事件更新數據後立即操作 dom</li>
<li><code>updated()</code>：任何數據的更新，如果要做統一的業務邏輯處理</li>
<li><code>watch()</code>：監聽具體數據變化，並做相應的處理</li>
</ul>
<h2 id="實際操作"><a href="#實際操作" class="headerlink" title="實際操作"></a>實際操作</h2><p>來 codepen 看看：<a href="https://codepen.io/tsuifei/pen/WNvGJKb?editors=1111" target="_blank" rel="noopener">VueJs Instance Lifecycle Hooks 生命週期鉤子</a>，別忘了觀察 console 的變化。<br>HTML 部分：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"destroyVm"</span>&gt;</span>Destroy vm<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">"isShow"</span>&gt;</span>Hello Paris<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Vue 實例的部分</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    isShow: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 1.初始化顯示階段</span></span><br><span class="line">  beforeCreate() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1. beforeCreate'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'2. created'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeMount() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'3. beforeMount'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 初始化後的顯示，所以放在mounted(只用一次)</span></span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'4. mounted'</span>);</span><br><span class="line">    <span class="comment">// 定時器，每一秒改變一次</span></span><br><span class="line">    <span class="keyword">this</span>.intervalId = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'+++++++++'</span>);</span><br><span class="line">      <span class="keyword">this</span>.isShow = !<span class="keyword">this</span>.isShow;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 2.更新狀態顯示階段</span></span><br><span class="line">  beforeUpdate() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'5. beforeUpdate'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  updated() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'6. updated'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 3.死亡、銷毀 Vue 實例階段 / 銷毀之前調用（只用一次）</span></span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    <span class="comment">// 清除定時器</span></span><br><span class="line">    clearInterval(<span class="keyword">this</span>.intervalId);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'7. beforeDestroy'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  destroyed() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'8. destroyed'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// 毀掉vm</span></span><br><span class="line">    destroyVm() &#123;</span><br><span class="line">      <span class="keyword">this</span>.$destroy();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>在 Vue 所使用到的整個生命週期方法，可以想像成是一齣戲要上演，哪一個主角需要在哪個時候上場、哪個配角需要在哪個時刻退場，都需要有邏輯才可以讓故事產生連貫性與流暢。</p>
<p>Vue 的生命週期方法雖然共有八個，但並不是每個都需要用到，就像在戲裡，有些橋段不出現、配角不出現也不會影響整齣性的故事性。</p>
<p>把 Vue 的生命週期分為三個大階段會比較容易理解：第一階段的「初始化顯示」、第二階段「更新狀態顯示」、第三階段「死亡、銷毀 Vue 實例」，每個階段都有對應的生命週期 callback 方法，這些生命週期的方法也稱為「生命週期鉤子」掛載在不同時期。 Vue 的生命週期比 React 還要複雜一些。</p>
<p>為了避免 <code>this</code> 的混淆，這些生命週期的方法都是回調方法(callback)，所以最好一律都寫成箭頭函式，讓 <code>this</code> 直接指向父級。</p>
<h2 id="Vue-的生命週期各階段都做了什麼？"><a href="#Vue-的生命週期各階段都做了什麼？" class="headerlink" title="Vue 的生命週期各階段都做了什麼？"></a>Vue 的生命週期各階段都做了什麼？</h2><h3 id="0-創建-Vue-的實例"><a href="#0-創建-Vue-的實例" class="headerlink" title="0. 創建 Vue 的實例"></a>0. 創建 Vue 的實例</h3><p>當我們創建好一個 Vue 的實例，就會馬上進入下一個階段<code>beforeCreate()</code>。</p>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Instance_Lifecycle_Hooks/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Instance_Lifecycle_Hooks/" data-id="ck72decwv005zl7uw51oj2rpy" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Form_Input_Bindings" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Form_Input_Bindings/" class="article-date">
  <time datetime="2020-02-18T16:42:24.000Z" itemprop="datePublished">2020-02-19</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Form_Input_Bindings/">Vue.js Form Input Bindings 表單輸入綁定</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>使用 Vue 資料雙向綁定的特性，做表單資料的自動收集。</p>
<p>先去 codepen 看看：<a href="https://codepen.io/tsuifei/pen/qBdaPrL?editors=1111" target="_blank" rel="noopener">Vue.js Form Input Bindings 表單輸入綁定</a></p>
<p>通常在處理表單的時候，在填完表單時，通常以<code>&lt;from&gt;</code>標籤內的<code>action</code>屬性來傳送，但在 Vue 裡，可以先把<code>&lt;from&gt;</code>的預設<code>submit</code>動作取消，並以監聽的方式(v-on)處理：<code>@submit.prevent(方法)</code>。當我們按下送出表單鍵時，就會去執行<code>handleSubmit</code>這個方法，在方法裡在指定我們希望如何處理表單內的資料就可以了。</p>
<h3 id="表單裡的標籤綁定"><a href="#表單裡的標籤綁定" class="headerlink" title="表單裡的標籤綁定"></a>表單裡的標籤綁定</h3><p>主要以<code>v-model</code>來做資料的雙向綁定，達到自動收集填入資料的目的。<br>表單裡有單純的輸入(text/textarea)、單選項(radio)、複選項(checkbox)和選單(select)，實例中我們必須先在<code>data</code>裡初始化我們會用到的值，這些初始值則是對應到 HTML 表單標籤裡的<code>value</code>，例如，如果我們希望預設的<code>radio</code>選項是 female，在<code>data</code>裡的<code>sex</code>初始，給<code>female</code>就可以了，以此類推。</p>
<p>需要注意的是，因為複選項(checkbox)是可以複選，所以必須是陣列格式，才能複選。</p>
<p>另外，在選單(select)的部分，可以在實例的<code>data</code>中先把物件型態的陣列準備好，然後在 HTML 使用<code>v-for</code>迴圈的方式讀取選單裡的選項。需要注意的是，通常在資料庫裡，我們需要的會是這些屬性的<code>id</code>而非文字，所以物件型態的陣列可以給兩個屬性：<code>city.name</code>和<code>city.id</code>，找到<code>id</code>就可找到對應的城市名。<br>而這個選單(select)的初始值，也就是<code>v-model</code>綁定的<code>cityId</code>，在實例的<code>data</code>裡也須先初始化好。</p>
<p>HTML 的部分：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"xxx"</span> @<span class="attr">submit.prevent</span>=<span class="string">"handleSubmit"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>Name : <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"name"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>Password : <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span> <span class="attr">v-model</span>=<span class="string">"pwd"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>Sex : <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"female"</span> <span class="attr">value</span>=<span class="string">"female"</span> <span class="attr">v-model</span>=<span class="string">"sex"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"female"</span>&gt;</span>Femme<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"male"</span> <span class="attr">value</span>=<span class="string">"male"</span> <span class="attr">v-model</span>=<span class="string">"sex"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"male"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>Hobby : <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"travel"</span> <span class="attr">id</span>=<span class="string">"travel"</span> <span class="attr">v-model</span>=<span class="string">"hobbys"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"travel"</span>&gt;</span>Travel<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"cinema"</span> <span class="attr">id</span>=<span class="string">"cinema"</span> <span class="attr">v-model</span>=<span class="string">"hobbys"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"cinema"</span>&gt;</span>Cinema<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"food"</span> <span class="attr">id</span>=<span class="string">"food"</span> <span class="attr">v-model</span>=<span class="string">"hobbys"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"food"</span>&gt;</span>Food<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"sport"</span> <span class="attr">id</span>=<span class="string">"sport"</span> <span class="attr">v-model</span>=<span class="string">"hobbys"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"sport"</span>&gt;</span>Sport<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>City : <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 動態顯示 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"city"</span> <span class="attr">v-model</span>=<span class="string">"cityId"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>No selection<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 如果直接寫value="city.id" 會被當成是字串，需加上冒號 :value="" 成為表達式 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">:value</span>=<span class="string">"city.id"</span> <span class="attr">v-for</span>=<span class="string">"(city, index) in citys"</span> <span class="attr">:key</span>=<span class="string">"city.id"</span></span></span><br><span class="line"><span class="tag">          &gt;</span>&#123;&#123;city.name&#125;&#125;<span class="tag">&lt;/<span class="name">option</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">textarea</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"info"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">cols</span>=<span class="string">"30"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">rows</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">placeholder</span>=<span class="string">"Self introduction"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-model</span>=<span class="string">"info"</span></span></span><br><span class="line"><span class="tag">      &gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"register"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Vue 實例的部分：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    name: <span class="string">''</span>,</span><br><span class="line">    pwd: <span class="string">''</span>,</span><br><span class="line">    sex: <span class="string">'female'</span>, <span class="comment">// 預設值是從 value 抓來的</span></span><br><span class="line">    hobbys: [<span class="string">'travel'</span>],</span><br><span class="line">    citys: [</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">1</span>,</span><br><span class="line">        name: <span class="string">'Paris'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">2</span>,</span><br><span class="line">        name: <span class="string">'Taipei'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">3</span>,</span><br><span class="line">        name: <span class="string">'London'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        id: <span class="number">4</span>,</span><br><span class="line">        name: <span class="string">'Tainan'</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    cityId: <span class="string">'2'</span>,</span><br><span class="line">    info: <span class="string">''</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleSubmit() &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(</span><br><span class="line">        <span class="keyword">this</span>.name,</span><br><span class="line">        <span class="keyword">this</span>.pwd,</span><br><span class="line">        <span class="keyword">this</span>.sex,</span><br><span class="line">        <span class="keyword">this</span>.hobbys,</span><br><span class="line">        <span class="keyword">this</span>.cityId,</span><br><span class="line">        <span class="keyword">this</span>.info</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>使用 Vue 資料雙向綁定的特性，做表單資料的自動收集。</p>
<p>先去 codepen 看看：<a href="https://codepen.io/tsuifei/pen/qBdaPrL?editors=1111" target="_blank" rel="noopener">Vue.js Form Input Bindings 表單輸入綁定</a></p>
<p>通常在處理表單的時候，在填完表單時，通常以<code>&lt;from&gt;</code>標籤內的<code>action</code>屬性來傳送，但在 Vue 裡，可以先把<code>&lt;from&gt;</code>的預設<code>submit</code>動作取消，並以監聽的方式(v-on)處理：<code>@submit.prevent(方法)</code>。當我們按下送出表單鍵時，就會去執行<code>handleSubmit</code>這個方法，在方法裡在指定我們希望如何處理表單內的資料就可以了。</p>
<h3 id="表單裡的標籤綁定"><a href="#表單裡的標籤綁定" class="headerlink" title="表單裡的標籤綁定"></a>表單裡的標籤綁定</h3><p>主要以<code>v-model</code>來做資料的雙向綁定，達到自動收集填入資料的目的。<br>表單裡有單純的輸入(text/textarea)、單選項(radio)、複選項(checkbox)和選單(select)，實例中我們必須先在<code>data</code>裡初始化我們會用到的值，這些初始值則是對應到 HTML 表單標籤裡的<code>value</code>，例如，如果我們希望預設的<code>radio</code>選項是 female，在<code>data</code>裡的<code>sex</code>初始，給<code>female</code>就可以了，以此類推。</p>
<p>需要注意的是，因為複選項(checkbox)是可以複選，所以必須是陣列格式，才能複選。</p>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Form_Input_Bindings/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Form_Input_Bindings/" data-id="ck72decwy0062l7uw1wbvhwqt" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Event_Handling" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Event_Handling/" class="article-date">
  <time datetime="2020-02-17T16:42:24.000Z" itemprop="datePublished">2020-02-18</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Event_Handling/">Vue.js Event Handling 事件處理</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>事件處理在網頁上的應用非常廣，無論是我們滑鼠移動、按鍵輸入、或是在網頁上點擊某一個區塊，都可以因為這個互動，讓網頁做些事。但在程式裡，其實就是瀏覽者做了某些事(事件監聽)<br>，然後我們要給出什麼反應(事件觸發)，例如，點一下按鍵，我們要程式去做某些事，例如呼叫某支函式要它做些什麼，或者，我們希望能取到瀏覽者所點擊到的值。</p>
<p>Codepen : <a href="https://codepen.io/tsuifei/pen/vYOKgOm" target="_blank" rel="noopener">Vue.js Event Handling 事件處理</a></p>
<p>這裡分三個部分來示範在事件處理時， Vue 會用到的一些指令</p>
<h2 id="1-監聽事件的綁定"><a href="#1-監聽事件的綁定" class="headerlink" title="1. 監聽事件的綁定"></a>1. 監聽事件的綁定</h2><p>我們可以使用 vue 的<code>@click=&quot;觸發事件的方法&quot;</code>來監聽與綁定事件：<br>第一個按鈕<code>test1</code>: 一般的觸發事件，直接取到我們點擊按鈕的值。<br>第二個按鈕<code>test2</code>: 帶參數的觸發事件，可直接取到我們給的參數。<br>第三個按鈕<code>test3</code>: 點擊的事件，可加上 vue 的特殊變數<code>$event</code>來監聽，但事實上如果我們沒有加上<code>$event</code>此參數，vue 也會自動幫我們抓取<code>event</code>監聽的對象。<br>第四個按鈕<code>test4</code>: 希望可以帶參數，同時又可取到監聽對象的值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test1"</span>&gt;</span>test1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 綁定自己的資料 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test2('Hello')"</span>&gt;</span>test2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 可利用vue的特殊變數$event 來拿到button的值 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 等同這樣寫： &lt;button @clock="test3"&gt;test3&lt;/button&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test3($event)"</span>&gt;</span>test3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 想傳自己給的變數，同時想取得點取 event 的值 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test4(42,$event )"</span>&gt;</span>test4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在實例的 methods 準備好觸發的方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">        test1() &#123;</span><br><span class="line">          alert(<span class="string">'test1'</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        test2(msg) &#123;</span><br><span class="line">          alert(msg)</span><br><span class="line">        &#125;,</span><br><span class="line">        test3(event) &#123;</span><br><span class="line">          <span class="comment">// 透過 event裡的target與innerHTML去取得按鈕的內容</span></span><br><span class="line">          alert(event.target.innerHTML)</span><br><span class="line">        &#125;,</span><br><span class="line">        test4(nbr, event) &#123;</span><br><span class="line">          alert(nbr + <span class="string">'---'</span> + event.target.innerHTML)</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="事件修飾符"><a href="#事件修飾符" class="headerlink" title="事件修飾符"></a>事件修飾符</h2><h3 id="阻止冒泡行為：-click-stop"><a href="#阻止冒泡行為：-click-stop" class="headerlink" title="阻止冒泡行為：@click.stop"></a>阻止冒泡行為：@click.stop</h3><p>在原生的 Javascript 如果要防止冒泡行為或預設行為，需要在 JavaScript 裡的監聽對象加上<code>stopPropagation()</code><br>例如有兩個大小疊在一起、可點擊的 box，如果想點擊小 box，也會同時觸發到在它底部的大 box ，這即是「冒泡事件」。<br>在 vue 裡，只要在希望被點取的那個 div(這裡指小 box) 的<code>@click=&quot;&quot;</code> 加上<code>.stop</code>，如<code>@click.stop=&quot;&quot;</code>即可阻止冒泡事件，非常方便。</p>
<h3 id="阻止事件默認行為：-click-prevent"><a href="#阻止事件默認行為：-click-prevent" class="headerlink" title="阻止事件默認行為： @click.prevent"></a>阻止事件默認行為： @click.prevent</h3><p>如果有一個連結，我們想阻止事件的默認行為，也就是點擊後不想直接導向到連結網址去該怎麼做？在原生的 JavaScript 我們同樣需要使用<code>event.preventDefault()</code>來阻止 html 裡的預設行為，但是在 vue 裡，只要在 html 使用事件修飾符<code>prevent</code>就可以達到效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 防止(stop)事件冒泡 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span> @<span class="attr">click</span>=<span class="string">"test5"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span> @<span class="attr">click.stop</span>=<span class="string">"test6"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 阻止事件默認行為 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://google.com"</span> @<span class="attr">click.prevent</span>=<span class="string">"test7"</span>&gt;</span>去google<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在實例的 methods 準備好觸發的方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">  test5() &#123;</span><br><span class="line">    alert(<span class="string">'out'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  test6() &#123;</span><br><span class="line">    alert(<span class="string">'inner'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  test7(event) &#123;</span><br><span class="line">    alert(<span class="string">'點到了'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="按鍵修飾符"><a href="#按鍵修飾符" class="headerlink" title="按鍵修飾符"></a>按鍵修飾符</h2><p>通常我們在 input 填好資料時，需要按一個送出的按鈕來送出，但其實用 enter 鍵會直覺很多，使用 Vue 的按鍵修飾符<code>@keyup</code>來指定監聽的方式是鍵盤輸入，如果想指定某一個鍵，需要知道按下的那個鍵的鍵碼，才能指定，如果不知道我們指定的鍵的鍵碼，可以用<code>alert(event.keyCode)</code>來查詢。</p>
<p>原生的寫法可用條件式判斷<code>if (event.keyCode === 13)</code>(這裡的 13 是 enter 鍵的鍵值)，確定點到的是指定的鍵。在 Vue 可直接將鍵碼加到 keyup 後面 –&gt; <code>keyup.13</code> 或是直接寫鍵名(只限定特殊鍵)<code>keyup.enter</code> 也可以達到一樣的效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 想使用enter鍵輸入 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">keyup.13</span>=<span class="string">"test8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">keyup.enter</span>=<span class="string">"test8"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>在實例的 methods 準備好觸發的方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">  test8($event) &#123;</span><br><span class="line">    alert(event.target.value + <span class="string">'--'</span> + event.keyCode)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 Vue 裡還有許多其他的事件修飾符：stop / prevent / capture / self / once / passive。用法可以參閱官方文件<a href="https://cn.vuejs.org/v2/guide/events.html" target="_blank" rel="noopener">事件處理 — Vue.js</a> 來了解各項用法。</p>
<p>Vue 把以往需要在 JavaScript 裡寫的程式碼，全部改成在 HTML 就可處理的指令，的確方便許多，但也要知道 Javascript 的原生寫法，才不會改天需要寫原生寫不出來，這就是 Vue 的方便會費人 JS 武功的原因了。</p>
 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>事件處理在網頁上的應用非常廣，無論是我們滑鼠移動、按鍵輸入、或是在網頁上點擊某一個區塊，都可以因為這個互動，讓網頁做些事。但在程式裡，其實就是瀏覽者做了某些事(事件監聽)<br>，然後我們要給出什麼反應(事件觸發)，例如，點一下按鍵，我們要程式去做某些事，例如呼叫某支函式要它做些什麼，或者，我們希望能取到瀏覽者所點擊到的值。</p>
<p>Codepen : <a href="https://codepen.io/tsuifei/pen/vYOKgOm" target="_blank" rel="noopener">Vue.js Event Handling 事件處理</a></p>
<p>這裡分三個部分來示範在事件處理時， Vue 會用到的一些指令</p>
<h2 id="1-監聽事件的綁定"><a href="#1-監聽事件的綁定" class="headerlink" title="1. 監聽事件的綁定"></a>1. 監聽事件的綁定</h2><p>我們可以使用 vue 的<code>@click=&quot;觸發事件的方法&quot;</code>來監聽與綁定事件：<br>第一個按鈕<code>test1</code>: 一般的觸發事件，直接取到我們點擊按鈕的值。<br>第二個按鈕<code>test2</code>: 帶參數的觸發事件，可直接取到我們給的參數。<br>第三個按鈕<code>test3</code>: 點擊的事件，可加上 vue 的特殊變數<code>$event</code>來監聽，但事實上如果我們沒有加上<code>$event</code>此參數，vue 也會自動幫我們抓取<code>event</code>監聽的對象。<br>第四個按鈕<code>test4</code>: 希望可以帶參數，同時又可取到監聽對象的值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test1"</span>&gt;</span>test1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 綁定自己的資料 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test2('Hello')"</span>&gt;</span>test2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 可利用vue的特殊變數$event 來拿到button的值 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 等同這樣寫： &lt;button @clock="test3"&gt;test3&lt;/button&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test3($event)"</span>&gt;</span>test3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 想傳自己給的變數，同時想取得點取 event 的值 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"test4(42,$event )"</span>&gt;</span>test4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Event_Handling/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Event_Handling/" data-id="ck72decwt005sl7uwst85f3ze" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Displaying_Filtered_Sorted_Results" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Displaying_Filtered_Sorted_Results/" class="article-date">
  <time datetime="2020-02-16T16:42:24.000Z" itemprop="datePublished">2020-02-17</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Displaying_Filtered_Sorted_Results/">Vue.js Displaying Filtered/Sorted Results 顯示過濾/排序後的結果</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>如何把現有的陣列，在做完過濾後存在另一個新的陣列裡？如何讓頁面即時顯示這個新的陣列列表？要產生新陣列的條件有哪些？原本的陣列、輸入框輸入了什麼資料？只要拿得到這兩個資料，就可產生新的過濾後的陣列。</p>
<p>我們來看一下，該如何進行？ 或是先來看一下<a href="https://codepen.io/tsuifei/pen/LYVNMBM" target="_blank" rel="noopener">完整的原始碼</a></p>
<p>輸入框先以<code>v-model</code>綁定資料，這個資料是過濾的條件<code>searchName</code>，需要去實例初始化它。</p>
<p>過濾條件後所產生的新陣列<code>filterPersons</code>則是透過<code>searchName</code>和<code>persons</code>陣列所計算產生出來的，所以我們需要一個在實例中的計算屬性 computed 的方法，去產生新的陣列<code>filterPersons</code>。這個方法的回傳值即是顯示的結果。</p>
<p>將原本的陣列<code>persons</code>套用<code>filter()</code>方法，再以<code>indexOf()</code>方法，用<code>searchName !== -1</code>ˋ 這個條件去查找的結果，存入新陣列<code>fPersons</code>中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fPersons = persons.filter(<span class="function"><span class="params">p</span> =&gt;</span> p.name.indexOf(searchName !== <span class="number">-1</span>));</span><br></pre></td></tr></table></figure>

<p>在過濾陣列的方法中，要先把需要的資料數據取出來，並將他們放在一個物件中，再開始過濾陣列的動作，把過濾產生的新陣列，用<code>sort()</code>方法來排序。</p>
<p>如果排序的功能只有兩種，通常會以布林值的方式來做切換，但在我們的排序功能的按鈕，除了升序和降序外，還有恢復原來排列的第三種，所以我們可以以數字來作為排序分類的指標數。<br>代表排序分類的<code>orderType</code>指派為：0 代表原本排序、1 代表升序, 2 代表降序。</p>
<p>在三個按鈕<br>上使用<code>@click=&quot;setOrderType(2)</code>監聽的方法、在實例的 methods 中增加<code>setOrderType()</code>方法，並將排序的方法寫在實例的計算屬性<code>filterPersons()</code>裡。而<code>setOrderType()</code>要做的事情，就是把這個方法的參數，指向實例中的 OrderType()。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// filterPersons()裡 排序的部分</span></span><br><span class="line"><span class="comment">// 排序</span></span><br><span class="line"><span class="comment">// 確定排序的指標 orderType 不是 0 才繼續排序下去</span></span><br><span class="line"><span class="keyword">if</span> (orderType !== <span class="number">0</span>) &#123;</span><br><span class="line">  fPersons.sort(<span class="function"><span class="keyword">function</span>(<span class="params">p1, p2</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1代表降序, 2代表升序</span></span><br><span class="line">    <span class="keyword">if</span> (orderType === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="comment">// 降序</span></span><br><span class="line">      <span class="keyword">return</span> p2.age - p1.age;</span><br><span class="line">      <span class="comment">// name 降序</span></span><br><span class="line">      <span class="comment">// return p2.name - p1.name</span></span><br><span class="line">      <span class="comment">// return p2.name.localeCompare(p1.name)</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 升序</span></span><br><span class="line">      <span class="keyword">return</span> p1.age - p2.age;</span><br><span class="line">      <span class="comment">// name 升序</span></span><br><span class="line">      <span class="comment">// return p1.name - p2.name</span></span><br><span class="line">      <span class="comment">// return p1.name.localeCompare(p2.name)</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上例我們是以<code>age</code>來當排序條件，如果想要以<code>name</code>字母順序為排序條件，則可將條件的回傳值更改為<code>return p1.name.localeCompare(p2.name)</code>就會依字母順序排列了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// setOrderType()部分</span></span><br><span class="line">methods: &#123;</span><br><span class="line">        setOrderType(orderType) &#123;</span><br><span class="line">          <span class="keyword">this</span>.orderType = orderType</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>有了這些功能，我們就可以讓 Todo List 有過濾的更多功能了。</p>
 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>如何把現有的陣列，在做完過濾後存在另一個新的陣列裡？如何讓頁面即時顯示這個新的陣列列表？要產生新陣列的條件有哪些？原本的陣列、輸入框輸入了什麼資料？只要拿得到這兩個資料，就可產生新的過濾後的陣列。</p>
<p>我們來看一下，該如何進行？ 或是先來看一下<a href="https://codepen.io/tsuifei/pen/LYVNMBM" target="_blank" rel="noopener">完整的原始碼</a></p>
<p>輸入框先以<code>v-model</code>綁定資料，這個資料是過濾的條件<code>searchName</code>，需要去實例初始化它。</p>
<p>過濾條件後所產生的新陣列<code>filterPersons</code>則是透過<code>searchName</code>和<code>persons</code>陣列所計算產生出來的，所以我們需要一個在實例中的計算屬性 computed 的方法，去產生新的陣列<code>filterPersons</code>。這個方法的回傳值即是顯示的結果。</p>
<p>將原本的陣列<code>persons</code>套用<code>filter()</code>方法，再以<code>indexOf()</code>方法，用<code>searchName !== -1</code>ˋ 這個條件去查找的結果，存入新陣列<code>fPersons</code>中。</p>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Displaying_Filtered_Sorted_Results/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Displaying_Filtered_Sorted_Results/" data-id="ck72decwr005ll7uwe33vg336" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_List_Rendering" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_List_Rendering/" class="article-date">
  <time datetime="2020-02-15T16:42:24.000Z" itemprop="datePublished">2020-02-16</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_List_Rendering/">Vue.js List Rendering 列表渲染</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>如果要把一個陣列或物件渲染到畫面，在原生的 JS 我們可以用迴圈或 forEach 以遍歷的方式將陣列的資料顯示，如果用 ES6 就可用 for…of 循環語句。<br>在 Vue 裡要遍歷陣列的方法並不難，只是遍歷陣列和物件的方式稍有不同。<br><a href="https://codepen.io/tsuifei/pen/QWbNErL" target="_blank" rel="noopener">去 codepen 看看效果</a></p>
<h2 id="以-v-for-遍歷陣列顯示"><a href="#以-v-for-遍歷陣列顯示" class="headerlink" title="以 v-for 遍歷陣列顯示"></a>以 v-for 遍歷陣列顯示</h2><p>陣列列表顯示的方法是使用<code>v-for</code>指令，在遍歷的時候語法為<code>&lt;li v-for=&quot;(p, index) in persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt;</code><br>在使用<code>v-for</code>時要記得加上<code>:key</code> 讓單筆的屬性有唯一值，這個陣列的唯一值是 index。<br>在上面的語法範例，可以想成是<code>&lt;li v-for=&quot;(單個陣列, index索引值) in 陣列&quot; :key=&quot;index唯一索引值&quot;&gt;&lt;/li&gt;</code>。</p>
<p>假設我們有個陣列：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">persons: [&#123;</span><br><span class="line">            name: <span class="string">'Ayda'</span>,</span><br><span class="line">            age: <span class="number">18</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            name: <span class="string">'Tracy'</span>,</span><br><span class="line">            age: <span class="number">24</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            name: <span class="string">'Philippe'</span>,</span><br><span class="line">            age: <span class="number">42</span></span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>

<p>在 HTML 我們可以這樣寫，就可以在頁面渲染出陣列的列表：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(p, index) in persons"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">    &#123;&#123; index &#125;&#125; --- &#123;&#123;p.name&#125;&#125; --- &#123;&#123;p.age&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="以-v-for-遍歷物件顯示"><a href="#以-v-for-遍歷物件顯示" class="headerlink" title="以 v-for 遍歷物件顯示"></a>以 v-for 遍歷物件顯示</h2><p>遍歷物件的方法也差不多，只是物件並沒有索引值，所以唯一值就會抓取 key 值，如：<br><code>v-for=&quot;(value, key) in persons[1]&quot; :key=&quot;key&quot;</code><br>可以想成：<br><code>v-for=&quot;(value屬性值, key屬性鍵值) in persons物件[1]&quot; :key=&quot;key唯一鍵值&quot;</code><br>每一個 key 值都需不相同。另外，遍歷物件的功能並不常用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 提取單筆 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;li v-for="(value, key) in persons[1]" :key="key"&gt;&#123;&#123;value&#125;&#125; -- &#123;&#123;key&#125;&#125;&lt;/li&gt; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 提取全部 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(value, key) in persons"</span> <span class="attr">:key</span>=<span class="string">"key"</span>&gt;</span>&#123;&#123;value&#125;&#125; -- &#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="是改變了陣列本身還是陣列內部的資料？"><a href="#是改變了陣列本身還是陣列內部的資料？" class="headerlink" title="是改變了陣列本身還是陣列內部的資料？"></a>是改變了陣列本身還是陣列內部的資料？</h2><p>在 Vue 裡要做到刪除、更新、增加陣列並須先了解 Vue 的運作，要先分清楚我們所操作的是否有改變到陣列本身？還是更改到陣列內部的物件。<br>例如，如果我們使用<code>this.persons = []</code>我們把空陣列指向 <code>persons</code>物件，陣列因此成為空陣列，這樣的動作是有更動到陣列「本身」。<br>但是如果只是去改變陣列內物件的屬性、值，這就只有更動到陣列內部結構。這樣的內部結構改變 Vue 無法知道。<br><strong>Vue 只會監視 persons 這個陣列的改變，而不會監視陣列內部資料的改變。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;; <span class="comment">// 改變物件本身</span></span><br><span class="line">obj.t = <span class="number">1</span>; <span class="comment">// 只改變了物件的內部結構資料</span></span><br></pre></td></tr></table></figure>

<h2 id="變異方法對原生陣列方法進行包裹"><a href="#變異方法對原生陣列方法進行包裹" class="headerlink" title="變異方法對原生陣列方法進行包裹"></a>變異方法對原生陣列方法進行包裹</h2><p>解決的方法是使用 Vue 的「變異方法」 (mutation method)。</p>
<p>在 Vue 的官網上，列表渲染裡的「陣列更新檢測」有寫到，Vue 會將被偵聽的陣列的變異方法進行包裹，然後才將會觸發頁面的部分更新。</p>
<p>陣列裡有這些函式可改變陣列的內部結構，在 Vue 裡用這些方法時，如增加、刪除，用這些方法已不是 JS 的原生方法，而是 Vue 有特殊處理包裹過，包裹的過程會經過兩個步驟：呼叫原生方法函式與更新頁面，也就是 <strong>Vue 重寫了一遍這些方法，讓這些方法可以檢測到陣列內部資料的變化</strong>。如果 Vue 沒做這些包裹處理，那麼 Vue 就無法檢測到陣列內部資料的變化。</p>
<p>在做陣列內部資料的更動更新，一定要使用以下這些方法，才能讓陣列內部資料變化，自動更新到頁面上。</p>
<p>這些被 Vue 重新包裹過的方法成為「變異方法」有：<code>push()</code>、<code>pop()</code>、<code>shift()</code>、<code>unshift()</code>、<code>splice()</code>、<code>sort()</code>、<code>reverse()</code></p>
<p>其中，<code>splice()</code> 的功能很強大，可以一次辦到增加、刪除、修改。</p>
<h2 id="刪除、更新、增加的寫法"><a href="#刪除、更新、增加的寫法" class="headerlink" title="刪除、更新、增加的寫法"></a>刪除、更新、增加的寫法</h2><p>以範例來說，我們先在頁面增加三個分別為刪除、更新、增加的按鈕，這個範例只是簡單的介紹其運作的方法。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(p, index) in persons"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">    &#123;&#123; index &#125;&#125; --- &#123;&#123;p.name&#125;&#125; --- &#123;&#123;p.age&#125;&#125; --<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"deleteP(index)"</span>&gt;</span></span><br><span class="line">      Delete</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    -- <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"updateP(index, &#123;name:'Fanny', age: 25&#125;)"</span>&gt;</span>Update<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>再來我們來看在 Vue 裡的刪除、更新、增加這三個方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">methods: &#123;</span><br><span class="line">        deleteP(index) &#123;</span><br><span class="line">          <span class="keyword">this</span>.persons.splice(index, <span class="number">1</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        updateP(index, newP) &#123;</span><br><span class="line">          <span class="comment">// this.persons[index] = newP</span></span><br><span class="line">          <span class="comment">// 這樣的做法因為無原生陣列函式，所以在vue 不會起作用，也不會自動更新頁面</span></span><br><span class="line">          <span class="comment">// console.log(this.persons[index], newP)</span></span><br><span class="line">          <span class="keyword">this</span>.persons.splice(index, <span class="number">1</span>, newP)</span><br><span class="line">        &#125;,</span><br><span class="line">        addP(newP) &#123;</span><br><span class="line">          <span class="keyword">this</span>.persons.push(newP)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">)&#125;</span><br></pre></td></tr></table></figure>

<p>如果熟悉上面的操作，應該就可以試著寫出一個簡單的 todoList 了。<br>接下來就要來介紹排序的部分囉！</p>
<p>參考：<br><a href="https://cn.vuejs.org/v2/guide/list.html#%E5%8F%98%E5%BC%82%E6%96%B9%E6%B3%95-mutation-method" target="_blank" rel="noopener">列表渲染 — Vue.js</a><br><a href="https://blog.csdn.net/qq_37860930/article/details/78529260" target="_blank" rel="noopener">ES6-遍曆數組 JavaScript</a><br><a href="https://segmentfault.com/a/1190000010203337" target="_blank" rel="noopener">ES5 和 ES6 數組遍歷方法詳解</a></p>
 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>如果要把一個陣列或物件渲染到畫面，在原生的 JS 我們可以用迴圈或 forEach 以遍歷的方式將陣列的資料顯示，如果用 ES6 就可用 for…of 循環語句。<br>在 Vue 裡要遍歷陣列的方法並不難，只是遍歷陣列和物件的方式稍有不同。<br><a href="https://codepen.io/tsuifei/pen/QWbNErL" target="_blank" rel="noopener">去 codepen 看看效果</a></p>
<h2 id="以-v-for-遍歷陣列顯示"><a href="#以-v-for-遍歷陣列顯示" class="headerlink" title="以 v-for 遍歷陣列顯示"></a>以 v-for 遍歷陣列顯示</h2><p>陣列列表顯示的方法是使用<code>v-for</code>指令，在遍歷的時候語法為<code>&lt;li v-for=&quot;(p, index) in persons&quot; :key=&quot;index&quot;&gt;&lt;/li&gt;</code><br>在使用<code>v-for</code>時要記得加上<code>:key</code> 讓單筆的屬性有唯一值，這個陣列的唯一值是 index。<br>在上面的語法範例，可以想成是<code>&lt;li v-for=&quot;(單個陣列, index索引值) in 陣列&quot; :key=&quot;index唯一索引值&quot;&gt;&lt;/li&gt;</code>。</p>
<p>假設我們有個陣列：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">persons: [&#123;</span><br><span class="line">            name: <span class="string">'Ayda'</span>,</span><br><span class="line">            age: <span class="number">18</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            name: <span class="string">'Tracy'</span>,</span><br><span class="line">            age: <span class="number">24</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            name: <span class="string">'Philippe'</span>,</span><br><span class="line">            age: <span class="number">42</span></span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure>

                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_List_Rendering/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_List_Rendering/" data-id="ck72decx00066l7uwsvzrhlt0" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  
    <article id="post-Vue_Conditional_Rendering" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-meta">
        <a href="Vue_Conditional_Rendering/" class="article-date">
  <time datetime="2020-02-14T16:42:24.000Z" itemprop="datePublished">2020-02-15</time>
</a>
            
  <div class="article-category">
    <a class="article-category-link" href="categories/JavaScript/">JavaScript</a>
  </div>

    </div>
    <div class="article-inner">
        
            
                <header class="article-header">
                    
  
    <h1 itemprop="name">
      <a class="article-title" href="Vue_Conditional_Rendering/">Vue.js Conditional Rendering 條件渲染語法</a>
    </h1>
  

                </header>
                

                    <div class="article-entry" itemprop="articleBody">
                        
                                            <!-- <p>既然是條件式，就一定有選擇，在程式裡，最簡單也最常用的選擇是使用布林值： true 或 false 只能擇一。利用這種二擇一的特性，去執行我們希望程式做的事。</p>
<p><a href="https://codepen.io/tsuifei/pen/KKpzKbV" target="_blank" rel="noopener">去 codepen 看看效果</a></p>
<p>在 Vue 裡的條件渲染指令有以下兩種：</p>
<h2 id="v-if-和-v-else-一起用"><a href="#v-if-和-v-else-一起用" class="headerlink" title="v-if 和 v-else 一起用"></a>v-if 和 v-else 一起用</h2><p><code>v-if</code>和<code>v-else</code> 一起用的時候，把條件的屬性放在<code>v-if</code>的標籤屬性裡，如果屬性結果是<code>true</code>就會顯示<code>v-if</code>的內容，如果結果是<code>false</code>就會顯示<code>v-else</code> 的內容，在選染頁面部分，我們會發現，如果是<code>false</code>，就連 HTML 的部分也不會被渲染出。</p>
<p>當我們只有有寫<code>v-else</code>如<code>&lt;p v-else&gt;失敗&lt;/p&gt;</code>等同是<code>v-else=&quot;true&quot;</code>，通常在<code>v-else</code>是不需要給條件的。</p>
<p>需要做切換時，只要使用運算子<code>!</code>將條件調整為<code>@click=&quot;yes=!yes&quot;</code> 就可達到切換的效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"success"</span>&gt;</span>成功<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>失敗<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"success=!success"</span>&gt;</span>Switch<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="v-show-用兩次"><a href="#v-show-用兩次" class="headerlink" title="v-show 用兩次"></a>v-show 用兩次</h2><p><code>v-show</code>通常拿來作為一個切換器，像開關一樣，不是開就是關。如果需要平凡的切換，就使用<code>v-show</code>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">"success"</span>&gt;</span>已完成<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">"!success"</span>&gt;</span>未完成<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="v-if-和-v-show-的不同之處"><a href="#v-if-和-v-show-的不同之處" class="headerlink" title="v-if 和 v-show 的不同之處"></a>v-if 和 v-show 的不同之處</h2><p><code>v-if</code>可以搭配<code>v-else-if</code>和<code>v-else</code> 而有多選一的機制，但是<code>v-show</code>通常只能二選一。<br>在渲染的部分，使用<code>v-if</code>只會渲染出達到條件的 HTML，但是<code>v-show</code>會把條件全渲染出來，然後用以<code>style=&quot;display: none;&quot;</code>的方式隱藏。</p>
<h3 id="需要多選一的時候就用-v-if"><a href="#需要多選一的時候就用-v-if" class="headerlink" title="需要多選一的時候就用 v-if"></a>需要多選一的時候就用 v-if</h3><p>剛剛說過 <code>v-if</code>可以搭配<code>v-else-if</code>和<code>v-else</code> 做出多選一的機制，也很彈性，使用方法也很簡潔，同樣只會炫染出<code>true</code>的部分。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>v-if-else multiple<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"light==='red'"</span>&gt;</span>紅燈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">"light==='green'"</span>&gt;</span>綠燈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">"light==='yellow'"</span>&gt;</span>黃燈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>燈壞了<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JavaScript Vue 實例的部分：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    success: <span class="literal">false</span>,</span><br><span class="line">    light: <span class="string">''</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>值得注意的是在 Vue 的官網上說明：不推薦同時使用<code>v-if</code> 和 <code>v-for</code></p>
<p>當 <code>v-if</code> 與 <code>v-for</code> 一起使用時，<code>v-for</code>會具有比 v-if 更高的優先級。詳細解釋請查閱 Vue 的<a href="https://cn.vuejs.org/v2/style-guide/#%E9%81%BF%E5%85%8D-v-if-%E5%92%8C-v-for-%E7%94%A8%E5%9C%A8%E4%B8%80%E8%B5%B7-%E5%BF%85%E8%A6%81" target="_blank" rel="noopener">風格指南 — Vue.js</a>和列表渲染指南：<br><a href="https://cn.vuejs.org/v2/guide/list.html#v-for-object" target="_blank" rel="noopener">列表渲染 — Vue.js</a></p>
<p><a href="https://cn.vuejs.org/v2/guide/conditional.html" target="_blank" rel="noopener">條件渲染 — Vue.js</a></p>
 -->
                                            <!-- Table of Contents -->
                                            

                                                    
                                                        
                                                                    <p>既然是條件式，就一定有選擇，在程式裡，最簡單也最常用的選擇是使用布林值： true 或 false 只能擇一。利用這種二擇一的特性，去執行我們希望程式做的事。</p>
<p><a href="https://codepen.io/tsuifei/pen/KKpzKbV" target="_blank" rel="noopener">去 codepen 看看效果</a></p>
<p>在 Vue 裡的條件渲染指令有以下兩種：</p>
<h2 id="v-if-和-v-else-一起用"><a href="#v-if-和-v-else-一起用" class="headerlink" title="v-if 和 v-else 一起用"></a>v-if 和 v-else 一起用</h2><p><code>v-if</code>和<code>v-else</code> 一起用的時候，把條件的屬性放在<code>v-if</code>的標籤屬性裡，如果屬性結果是<code>true</code>就會顯示<code>v-if</code>的內容，如果結果是<code>false</code>就會顯示<code>v-else</code> 的內容，在選染頁面部分，我們會發現，如果是<code>false</code>，就連 HTML 的部分也不會被渲染出。</p>
<p>當我們只有有寫<code>v-else</code>如<code>&lt;p v-else&gt;失敗&lt;/p&gt;</code>等同是<code>v-else=&quot;true&quot;</code>，通常在<code>v-else</code>是不需要給條件的。</p>
                                                                        
                                                                            <p class="article-more-link">
                                                                                <a href="Vue_Conditional_Rendering/">
                                                                                    Read More
                                                                                </a>
                                                                            </p>
                                                                            
                                                                                
                                                                                    
                                                                                        <!-- FIN 要出現的段落數 -->

                    </div>

                    <footer class="article-footer">
                        <a data-url="tsuifei.github.io/Vue_Conditional_Rendering/" data-id="ck72decwo005dl7uw70r0ru0n" class="article-share-link">
                            Share
                        </a>
                        
                                
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="tags/Vue/">Vue</a></li></ul>

                    </footer>
    </div>
    
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="page/2/">2</a><a class="page-number" href="page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="page/8/">8</a><a class="extend next" rel="next" href="page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
    <div class="widget-wrap">
        <h3 class="widget-title">About Tsuifei</h3>
        <div class="widget">
            Email：<a href="mailto:tsuifei@gmail.com">tsuifei@gmail.com</a>
            <br /> Site：<a href="http://www.tsuifei.com/" target="_blank" title="www.tsuifei.com">www.tsuifei.com</a>
        </div>
    </div>
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="categories/JavaScript/ES6/">ES6</a></li><li class="category-list-item"><a class="category-list-link" href="categories/JavaScript/Strange-JS/">Strange JS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="categories/Mac/">Mac</a></li><li class="category-list-item"><a class="category-list-link" href="categories/Other/">Other</a></li><li class="category-list-item"><a class="category-list-link" href="categories/SASS/">SASS</a></li><li class="category-list-item"><a class="category-list-link" href="categories/VSCode/">VSCode</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/ES6/">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/ESLint/">ESLint</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/ExerciceJS/">ExerciceJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/GitHub/">GitHub</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Iron-man-30-鐵人賽/">Iron man 30 鐵人賽</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/JS-Basic/">JS Basic</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/JS101/">JS101</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/JS-Array/">JS_Array</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/JavaScript-30/">JavaScript 30</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Mac/">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Note/">Note</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Other/">Other</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/SASS/">SASS</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Strange-JS/">Strange JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Test/">Test</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/VSCode/">VSCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="tags/讀書會筆記/">讀書會筆記</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="Vue_Custom_Directives/">Vue.js Custom Directives 自定義指令</a>
          </li>
        
          <li>
            <a href="Vue_Directives/">Vue.js Directives Vue 常用的內建指令</a>
          </li>
        
          <li>
            <a href="Vue_Filters/">Vue.js Filters 過濾器</a>
          </li>
        
          <li>
            <a href="Vue_Transitioning_Elements_Components/">Vue.Js Transitioning Single Elements/Component 過渡與動畫效果</a>
          </li>
        
          <li>
            <a href="Vue_Instance_Lifecycle_Hooks/">VueJs Instance Lifecycle Hooks 生命週期鉤子</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="tags/CSS/" style="font-size: 11.43px;">CSS</a> <a href="tags/ES6/" style="font-size: 10px;">ES6</a> <a href="tags/ESLint/" style="font-size: 10px;">ESLint</a> <a href="tags/ExerciceJS/" style="font-size: 10px;">ExerciceJS</a> <a href="tags/Git/" style="font-size: 11.43px;">Git</a> <a href="tags/GitHub/" style="font-size: 11.43px;">GitHub</a> <a href="tags/HTML/" style="font-size: 10px;">HTML</a> <a href="tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="tags/Iron-man-30-鐵人賽/" style="font-size: 17.14px;">Iron man 30 鐵人賽</a> <a href="tags/JS-Basic/" style="font-size: 12.86px;">JS Basic</a> <a href="tags/JS101/" style="font-size: 10px;">JS101</a> <a href="tags/JS-Array/" style="font-size: 18.57px;">JS_Array</a> <a href="tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="tags/JavaScript-30/" style="font-size: 11.43px;">JavaScript 30</a> <a href="tags/Mac/" style="font-size: 10px;">Mac</a> <a href="tags/Note/" style="font-size: 10px;">Note</a> <a href="tags/Other/" style="font-size: 10px;">Other</a> <a href="tags/React/" style="font-size: 14.29px;">React</a> <a href="tags/SASS/" style="font-size: 10px;">SASS</a> <a href="tags/Strange-JS/" style="font-size: 10px;">Strange JS</a> <a href="tags/Test/" style="font-size: 10px;">Test</a> <a href="tags/VSCode/" style="font-size: 11.43px;">VSCode</a> <a href="tags/Vue/" style="font-size: 15.71px;">Vue</a> <a href="tags/讀書會筆記/" style="font-size: 10px;">讀書會筆記</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="archives/2019/07/">七月 2019</a></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Tsuifei Pommier<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
    <script type="text/javascript">
      (function (w, d, t, u, n, s, e) {
        w['SwiftypeObject'] = n; w[n] = w[n] || function () {
          (w[n].q = w[n].q || []).push(arguments);
        }; s = d.createElement(t);
        e = d.getElementsByTagName(t)[0]; s.async = 1; s.src = u; e.parentNode.insertBefore(s, e);
      })(window, document, 'script', '//s.swiftypecdn.com/install/v2/st.js', '_st');

      _st('install', 'rp1sZQ9wsd88KKWtwTsJ', '2.0.0');
    </script>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="index.html" class="mobile-nav-link">Home</a>
  
    <a href="/tsuifei/" class="mobile-nav-link">About Tsuifei</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="fancybox/jquery.fancybox.css">
  <script src="fancybox/jquery.fancybox.pack.js"></script>


<script src="js/script.js"></script>



  </div>
</body>
</html>